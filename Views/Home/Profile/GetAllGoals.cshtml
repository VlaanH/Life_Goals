@using LifeGoals.Dbmanagement
@using LifeGoals.PageObjects;

@model AllGoalsScroll
@{

    var user = UserManagement.GetUser(Model.Address);

    List<GoalObjects> goalObjectsList = new List<GoalObjects>();
    goalObjectsList = Goals.GetUserGoals(Model.Address);

    int step = 4;
 
}

    
@{
        
    if (goalObjectsList != default)
    {

        int startRead = Model.ScrollNumber-1;
    
        if (startRead>0)
        {
            startRead=((Model.ScrollNumber-1) * step)-1;
        }
            
        int stopRead = (Model.ScrollNumber*step);
    
        if (stopRead>goalObjectsList.Count)
            stopRead = goalObjectsList.Count;
            
            
        for (int i = startRead; i < stopRead; i++)
        {
                
            @(await Html.PartialAsync("Profile/Goal", goalObjectsList[i]))
    
        } 
           
    }
       
        
}

