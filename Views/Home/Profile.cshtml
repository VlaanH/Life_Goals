@model GoalObjects
@using Microsoft.AspNetCore.Http
@using System.Security.Claims
@{

    string userId = default;
    
    if (User.Identity.IsAuthenticated==true)
        userId=User.FindFirstValue(ClaimTypes.NameIdentifier);  
    

   

    string id  = ViewData["id"].ToString();

}
@section scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ajax-unobtrusive/3.2.6/jquery.unobtrusive-ajax.min.js"></script>
    
    
}
@if (id!="non"&id!="zero")
{


    
<partial name="Profile/DonatDialog" model="id"/> 
    
<div id="panel" class="text-center">
  
    <div class="profileWrapper">
        
        
        @await Html.PartialAsync("Profile/UserAllData",id)
        
        @await Html.PartialAsync("Profile/GoalLine",id)
        

        @if (id == userId)
        {
            //ovner
            <partial name="Profile/CreateGoal"/> 
            

        }


        <div class="goals">
             @await Html.PartialAsync("Profile/GetAllGoals",id)
        </div>





        

    </div>
</div>
    
}
else
{
    if (id=="zero")
    {
        <script>
            //redirect
            window.location.href  = "/Identity/Account/Login";
        </script>

    }
    if (id=="non")
    {
        <partial name="Error404"/>
    }
    
  
    
   
   
   
}
